<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{admin/layout/head :: head}"></head>

<link rel="stylesheet" th:href="@{/admin/css/counter/counter.css}">

<body onload="time()" class="app sidebar-mini rtl">
<!-- Navbar-->
<div th:replace="~{admin/layout/header :: header}"></div>
<!-- Sidebar menu-->
<div th:replace="~{admin/layout/sidebar :: sidebar}"></div>

<main class="app-content">
    <div class="row">
        <div class="col-md-12">
            <div class="app-title">
                <ul class="app-breadcrumb breadcrumb">
                    <li class="breadcrumb-item"><a href="#"><b>POS bán hàng</b></a></li>
                </ul>
                <div id="clock"></div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="tile tile-counter d-flex">
                <div class="row-counter">
                    <button onclick="addCounterPage()" class="btn btn-primary btn-add-counter">Thêm hóa đơn <i
                            class="fa-solid fa-plus fa-xl"></i></button>
                </div>
                <div class="col-md-10" style="padding: 0px">
                    <div id="listCounter" class="row-counter">

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row" id="form-counter">
        <div class="d-flex">
            <div class="col-md-8">
                <div class="tile">
                    <h3 class="tile-title">Phần mềm bán hàng</h3>
                    <!--Cart-->
                    <table class="table table-hover table-bordered cart" id="cartTable">
                        <thead>
                        <tr>
                            <th class="stt">STT</th>
                            <th class="ten_san_pham">Tên Sản Phẩm</th>
                            <th class="anh">Ảnh</th>
                            <th class="mau_sac">Màu Sắc</th>
                            <th class="kich_thuoc">Size</th>
                            <th class="so_luong">Số Lượng</th>
                            <th class="gia_ban">Giá Bán</th>
                            <th class="tinh_nang">Tính Năng</th>
                        </tr>
                        </thead>

                        <tbody id="listCart">

                        </tbody>

                    </table>

                    <input type="text" id="myInput" onkeyup="search()"
                           placeholder="Nhập thông tin sản phẩm để tìm kiếm...">
                    <div class="du--lieu-san-pham">

                        <!--Danh sách sản phẩm-->
                        <table class="table table-hover table-bordered js-copytextarea" cellpadding="0"
                               cellspacing="0"
                               border="0"
                               id="sampleTable">
                            <thead>
                            <tr>
                                <th class="stt" width="20">STT</th>
                                <th class="ten_san_pham" width="180">Tên Sản Phẩm</th>
                                <th class="anh" width="80">Ảnh</th>
                                <th class="mau_sac" width="70">Màu Sắc</th>
                                <th class="kich_thuoc" width="70">Size</th>
                                <th class="gia_ban" width="130">Giá Bán</th>
                                <th class="tinh_nang" width="80">Tính Năng</th>
                            </tr>
                            </thead>

                            <tbody th:if="${lists.empty}">
                            <tr>
                                <td colspan="7" class="text-center">Danh sách trống!</td>
                            </tr>
                            </tbody>

                            <tbody>
                            <tr th:each="productDetail, index : ${lists}">
                                <td class="stt" th:text="${index.index + 1}"></td>
                                <td class="ten_san_pham" th:text="${productDetail.name}"></td>
                                <td class="anh"><img th:src="${productDetail.image}" alt="Hình ảnh sản phẩm"></td>
                                <td class="mau_sac" th:text="${productDetail.colorName}"></td>
                                <td class="kich_thuoc" th:text="${productDetail.sizeName}"></td>
<!--                                <td class="gia_ban" id="gia_ban"-->
<!--                                    th:text="${productDetail.discount == 0 ?-->
<!--                                    productDetail.price :-->
<!--                                    (productDetail.price/100*(100 - productDetail.discount))}">-->
<!--                                </td>-->

                                <td class="gia_ban" id="gia_ban"
                                    th:text="${#numbers.formatDecimal((productDetail.discount == 0 ?
                                    productDetail.price :
                                    (productDetail.price/100*(100 - productDetail.discount))), 0, 'POINT', 0, 'POINT')}"
                                ></td>

                                <td class="table-td-center tinh_nang">
                                    <button class="btn btn-success add-button" type="button"
                                            th:attr="data-product-detail-id=${productDetail.id},
                                                 id=#{${productDetail.id}}"
                                            onclick="addToCart(this)"
                                    >
                                        <i class="fa-solid fa-plus fa-2xl add-icon"></i>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tile">
                    <h3 class="tile-title">Thông tin thanh toán</h3>

                    <div class="row">
                        <div class="form-group col-md-12">
                            <label class="control-label">Họ tên khách hàng:</label>
                            <div class="d-flex">
                                <input style="margin-right: 10px" class="form-control" type="text"
                                       placeholder="Tìm kiếm khách hàng">
                                <button class="btn btn-primary btn-them" data-toggle="modal"
                                        data-target="#exampleModalCenter"><i class="fas fa-user-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-group  col-md-12">
                            <label class="control-label">Nhân viên bán hàng:</label>
                            <select class="form-control" id="exampleSelect1">
                                <option>--- Chọn nhân viên bán hàng ---</option>
                                <option>Võ Trường</option>
                                <option>Nhật Kim Anh</option>
                                <option>Đào Thanh Tuấn</option>
                                <option>Phạm Phong Phú</option>
                            </select>
                        </div>
                        <div class="form-group  col-md-12">
                            <label class="control-label">Ghi chú đơn hàng:</label>
                            <textarea class="form-control" rows="4" placeholder="Ghi chú thêm đơn hàng"></textarea>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group  col-md-12">
                            <label class="control-label">Hình thức thanh toán:</label>
                            <select class="form-control" id="exampleSelect2" required>
                                <option>Thanh toán chuyển khoản</option>
                                <option>Trả tiền mặt tại quầy</option>
                            </select>
                        </div>
                        <div class="form-group  col-md-12">
                            <label class="control-label">Tổng cộng thanh toán:</label>
                            <p class="control-all-money-total" id="tong-cong-thanh-toan"></p>
                        </div>
                        <div class="form-group  col-md-12">
                            <label class="control-label">Khách hàng đưa tiền:</label>
                            <input class="form-control" id="khach-hang-dua-tien" type="number" value="0">
                        </div>
                        <div class="form-group  col-md-12">
                            <label class="control-label">Khách hàng còn nợ:</label>
                            <p class="control-all-money" id="khach-hang-con-no"></p>
                        </div>
                        <div class="tile-footer col-md-12">
                            <button class="btn btn-primary luu-san-pham" type="button"> Lưu đơn hàng</button>
                            <button class="btn btn-primary luu-va-in" type="button">Lưu và in hóa đơn</button>
                            <a class="btn btn-secondary luu-va-in" href="index.html">Quay về</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<div th:replace="~{admin/layout/script :: script}"></div>
<script th:src="@{/admin/js/counter/counter.js}"></script>
<script th:src="@{/admin/js/counter/render.js}"></script>
</body>

</html>